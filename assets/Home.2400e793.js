import{p as t,l as a,r as e,o as l,c as s,a as i,F as o,m as u,w as r}from"./vendor.cb6a5a42.js";const n=r();t("data-v-4f270ab7");const d={id:"Home"},h=i("h2",null,"台灣紫外線指數",-1),b=i("h3",null,"請選擇觀測站",-1),p=i("h2",null,"Bar Chart",-1),m=i("h2",null,"Line Chart",-1),c=i("h2",null,"Table",-1);a();const f=n(((t,a,r,f,g,D)=>{const y=e("el-option"),_=e("el-option-group"),C=e("el-select"),v=e("el-col"),S=e("el-row"),T=e("el-header"),N=e("bar_chart"),P=e("el-carousel-item"),V=e("line_chart"),w=e("el-table-column"),I=e("el-table"),U=e("el-carousel"),x=e("el-main");return l(),s("div",d,[h,i(T,null,{default:n((()=>[i(S,{type:"flex",justify:"center"},{default:n((()=>[i(v,{sm:24},{default:n((()=>[b,i(C,{modelValue:g.SiteName,"onUpdate:modelValue":a[1]||(a[1]=t=>g.SiteName=t),placeholder:"請選擇觀測站"},{default:n((()=>[(l(!0),s(o,null,u(g.options,(t=>(l(),s(_,{key:t.label,label:t.label},{default:n((()=>[(l(!0),s(o,null,u(t.options,(t=>(l(),s(y,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])))),128))])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),i(x,{class:"main"},{default:n((()=>[i(S,{type:"flex",justify:"center"},{default:n((()=>[i(v,{lg:10,md:14,sm:18,xs:24},{default:n((()=>[i(U,{interval:3e3,"indicator-position":"outside",height:"83vh",pauseOnHover:!0},{default:n((()=>[i(P,{class:"item"},{default:n((()=>[p,i(N,{orgData:D.barData},null,8,["orgData"])])),_:1}),i(P,{class:"item"},{default:n((()=>[m,i(V,{orgData:D.lineData},null,8,["orgData"])])),_:1}),i(P,{class:"item"},{default:n((()=>[c,i(I,{data:D.tableData,style:{width:"100%"},"max-height":"580"},{default:n((()=>[i(w,{prop:"PublishTime",label:"時間",sortable:"",width:"150"}),i(w,{prop:"UVI",label:"UVI指數",sortable:"",width:"150"}),i(w,{prop:"SiteName",label:"站點",sortable:"",width:"150"}),i(w,{prop:"County",label:"縣市",sortable:"",width:"150"}),i(w,{prop:"PublishAgency",label:"資訊來源",sortable:"",width:"150"})])),_:1},8,["data"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}));const g={data:()=>({datas:[],SiteName:"",options:[],dialogVisible:!1}),computed:{getOptions(){let t=[],a={},e=this.sortData[0].PublishTime,l="";return this.sortData.map((s=>{s.PublishTime===e&&(s.County===l?a.options.push({value:s.SiteName}):(t.push(a),a={label:s.County,options:[{value:s.SiteName}]}),l=s.County)})),t.shift(),t},sortData(){return this.datas.sort((function(t,a){return t.County<a.County?1:-1}))},selectData(){return this.sortData.filter((t=>t.SiteName===this.SiteName))},barData(){let t={labels:[],datasets:[{label:"紫外線指數",data:[],backgroundColor:["#77CEFF","#0079AF","#123E6B","#97B0C4","#A5C8ED","#97B0C4","#A5C8ED"]}]};return this.selectData.map((a=>{t.labels.push(this.dateToString(a.PublishTime)),t.datasets[0].data.push(a.UVI)})),t},lineData(){let t={labels:[],datasets:[{fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1,label:"紫外線指數",data:[]}]};return this.selectData.map((a=>{t.labels.push(this.dateToString(a.PublishTime)),t.datasets[0].data.push(a.UVI)})),t},tableData(){let t=[];return this.selectData.map((a=>{let e={County:a.County,PublishAgency:a.PublishAgency,PublishTime:this.dateToString(a.PublishTime),SiteName:a.SiteName,UVI:a.UVI};t.push(e)})),t}},methods:{dateToString(t){let a=[];return a=t.split("-"),a=a[2].split(" "),a=a[0]+"號 "+a[1],a}},mounted(){try{this.axios.get("https://data.epa.gov.tw/api/v1/uv_s_01?limit=1000&api_key=9be7b239-557b-4c10-9775-78cadfc555e9&sort=ImportDate%20desc&format=json").then((t=>{this.datas=t.data.records,this.options=this.getOptions}))}catch(t){console.log(t)}}};g.render=f,g.__scopeId="data-v-4f270ab7";export{g as default};
